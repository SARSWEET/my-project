<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* 设置 div 的宽度和高度，以及背景颜色为粉色 */
        div {
            width: 100px;
            height: 100px;
            background-color: pink;
        }
    </style>
</head>

<body>
    <!-- 创建三个 div 元素，分别显示数字 1、2、3 -->
    <div>1</div>
    <div>2</div>
    <div>3</div>

    <script>
        // 获取所有的 div 元素并存储在变量 divs 中
        var divs = document.querySelectorAll('div');

        // 1. 使用传统方式为第一个 div 添加点击事件
        divs[0].onclick = function () {
            alert('11'); // 点击后弹出提示
            divs[0].onclick = null; // 事件触发后删除该事件
        }

        // 2. 使用 addEventListener 为第二个 div 添加点击事件
        // 下面的代码片段是为了说明不能直接使用匿名函数来添加事件监听
        /* divs[1].addEventListener('click', function() {
            alert('22'); // 点击后弹出提示
            // 使用匿名函数无法在事件触发后移除事件，因此需要将函数定义在外部
        }) */

        // 将外部函数 fn 作为事件处理程序添加到第二个 div
        divs[1].addEventListener('click', fn); // 注意：不加() 是为了传递函数引用，而不是立即调用

        // 定义事件处理函数 fn
        function fn() {
            alert('22'); // 点击后弹出提示
            divs[1].removeEventListener('click', fn); // 事件触发后移除该事件监听
        }
    </script>
</body>

</html>
